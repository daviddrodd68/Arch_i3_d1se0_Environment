#!/usr/bin/env bash
WAL="$HOME/.cache/wal/colors.json"
OUT="$HOME/.config/rofi/colors-wal.rasi"

mkdir -p "$(dirname "$OUT")"

bg=$(jq -r '.special.background' "$WAL")
fg=$(jq -r '.special.foreground' "$WAL")

c() { jq -r ".colors.color$1" "$WAL"; }

cat > "$OUT" <<EOF
/* variables from pywal */
* {
    background:     $bg;
    foreground:     $fg;

    color0:         $(c 0);
    color1:         $(c 1);
    color2:         $(c 2);
    color3:         $(c 3);
    color4:         $(c 4);
    color5:         $(c 5);
    color6:         $(c 6);
    color7:         $(c 7);
    color8:         $(c 8);
    color9:         $(c 9);
    color10:        $(c 10);
    color11:        $(c 11);
    color12:        $(c 12);
    color13:        $(c 13);
    color14:        $(c 14);
    color15:        $(c 15);
}
EOF
